"0","gen.ci.med = function(n = 100, N = 201, parm.int = 0) {"
"0","  data = rnorm(N)"
"0",""
"0","  normal.ll <- function(mean, sd){"
"0","    fs <- dnorm(x = data, mean = mean, sd = sd, log = TRUE)"
"0","    -sum(fs)"
"0","  }"
"0",""
"0","  fit_norm <- mle("
"0","    normal.ll,"
"0","    start = list(mean = mean(data), sd = sqrt(var(data))),"
"0","    method = ""L-BFGS-B"","
"0","    lower = c(0, 0.01)"
"0","  )"
"0","  "
"0","  mean = coef(fit_norm)[1]"
"0","  sd = coef(fit_norm)[2]"
"0","  "
"0","  meds = rbeta(n, 101, 101) %>% qnorm(mean = coef(fit_norm)[1], sd = coef(fit_norm)[2])"
"0","  "
"0","  ci = quantile(meds, c(0.025, 0.975))"
"0","  return (ci[1] < parm.int & ci[2] > parm.int)"
"0","}"
"0",""
"0","ci.contain = NA"
"0","repeat_num = 10000"
"0","for(i in 1:repeat_num){"
"0","  ci.contain[i] = gen.ci.med()"
"0","}"
"0",""
"0","mean(ci.contain)"
"1","[1]"
"1"," 0.9869"
"1","
"
